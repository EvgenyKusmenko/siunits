package de.monticore;

grammar TestSIJava extends de.monticore.lang.literals.SIUnitLiterals,
                            de.monticore.expressions.CommonExpressions,
                            de.monticore.expressions.AssignmentExpressions,
                            de.monticore.statements.MCCommonStatements,
                            de.monticore.types.SIUnitTypes {

symbol scope SIJavaClass =
"package" package:(Name& || ".")+ ";"
"siclass" Name "{"
    statement:SIJavaClassStatement*
"}";

interface SIJavaClassStatement;

interface FieldOrVariableDeclaration extends Field =
    SIUnitOrMCType Name ("=" assignment:Expression)? ";";

FieldDeclaration implements FieldOrVariableDeclaration, SIJavaClassStatement =
    SIUnitOrMCType Name ("=" assignment:Expression)? ";";

SIUnitOrMCType =
    ("[" SIUnitType "]") | MCType;

SIUnitOrMCReturnType =
    ("[" SIUnitType "]") | MCReturnType;

SIUnitLiteralExperession implements Expression <350> =
    SIUnitLiteral;

symbol scope MethodDeclaration implements SIJavaClassStatement =
    "metod" MethodSignature "{"
        statement:SIJavaMethodStatement*
    "}";

MethodSignature =
    returnType:SIUnitOrMCReturnType Name "(" (SIJavaParameter||",")* ")";

SIJavaParameter =
    SIUnitOrMCType Name;

interface SIJavaMethodStatement;

VariableDeclaration implements FieldOrVariableDeclaration, SIJavaMethodStatement <100> =
    SIUnitOrMCType Name ("=" assignment:Expression)? ";";

SIJavaMethodExpression implements SIJavaMethodStatement <10> =
    expression:Expression ";";
}